<!DOCTYPE html>
<html lang="en" />

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<script src="./cssRules.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", function (event) {
			let r = 0;
			let rInv = 1;
			let g = 0;
			let gInv = 1;
			let b = 0;
			let bInv = 1;
			let rnd;
			cssRules.insertRule(`body { background-color: rgb(0, 0, 0) }`);
			window.requestAnimationFrame(function randomColor() {
				rnd = Math.random();
				if (rnd < 1 / 3) {
					r += rInv;
					if (r === 255 && rInv === 1)
						rInv = -1;
					else if (r === 0 && rInv === -1)
						rInv = 1;
				}
				else if (rnd < 2 / 3) {
					g += gInv;
					if (g === 255 && gInv === 1)
						gInv = -1;
					else if (g === 0 && gInv === -1)
						gInv = 1;
				}
				else {
					b += bInv;
					if (b === 255 && bInv === 1)
						bInv = -1;
					else if (b === 0 && bInv === -1)
						bInv = 1;
				}
				cssRules.body["background-color"] = `rgb(${r}, ${g}, ${b})`;
				window.requestAnimationFrame(randomColor);
			});
		});
	</script>
</body>